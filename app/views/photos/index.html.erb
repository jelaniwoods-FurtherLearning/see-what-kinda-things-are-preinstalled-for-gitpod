<div class="row mb-3">
  <div class="col-md-12">
    <h1>
      List of all photos
    </h1>
  </div>
</div>

<hr>
<form action="/" >
      <div class="custom-control custom-checkbox mb-3">
    <input type="checkbox" class="custom-control-input" id="workout_complete_status_box" name="query_workout_complete_status" value="1" onChange="this.form.submit()" >
    <label class="custom-control-label"
      for="workout_complete_status_box">Workout complete status</label>
  </div>
  <button class="btn btn-block btn-outline-secondary">
    Update
  </button>

</form>
<%= search_form_for @q do |f| %>
  <p class="lead">Narrow results:</p>

  <div class="form-group">
    <%= f.label :owner_cont, "course name" %>
    <%= f.text_field :owner_cont, :class => "form-control", :placeholder => "Enter a few characters" %>
  </div>

   <div class="form-group">
    <%= f.label :owner_eq, "City" %>
    <%= f.select :owner_eq, options_from_collection_for_select(User.all, :id, :username, @q.owner_eq), { :include_blank => true }, :class => "form-control" %>
  

  <%= f.submit :class => "btn btn-primary btn-block" %>
  
  <a href="/courses" class="btn btn-default btn-block">Clear filters</a>
<% end %>

<div class="row mb-3">
  <div class="col-md-8 offset-md-2">
    <h2>
      Add a new photo
    </h2>

    <form action="/insert_photo" method="post">
      <div class="form-group">
        <label for="caption_box">
          Caption
        </label>

        <textarea id="caption_box" name="query_caption" class="form-control" rows="3"></textarea>
      </div>

      <div class="form-group">
        <label for="image_box">
          Image
        </label>

        <input type="text" id="image_box" name="query_image" class="form-control">
      </div>

      <div class="form-group">
        <label for="owner_box">
          Owner
        </label>

        <input type="text" id="owner_box" name="query_owner" class="form-control">
      </div>

      <div class="form-group">
        <label for="likes_count_box">
          Likes count
        </label>

        <input type="text" id="likes_count_box" name="query_likes_count" class="form-control">
      </div>

      <div class="form-group">
        <label for="comments_count_box">
          Comments count
        </label>

        <input type="text" id="comments_count_box" name="query_comments_count" class="form-control">
      </div>

      <button class="btn btn-block btn-outline-secondary">
        Create photo
      </button>
    </form>
  </div>
</div>

<hr>
<div class="row mb-3">
  <div class="col-md-12">
    <table class="table">
      <tr>
        <th>
          ID
        </th>

        <th>
          Caption
        </th>

        <th>
          Image
        </th>

        <th>
          Owner
        </th>

        <th>
          Likes count
        </th>

        <th>
          Comments count
        </th>

        <th>
          Created at
        </th>

        <th>
          Updated at
        </th>

        <th>
        </th>
      </tr>

      <% @photos.each do |photo| %>
      <tr>
        <td>
          <%= photo.id %>
        </td>

        <td>
          <%= photo.caption %>
        </td>

        <td>
          <%= photo.image %>
        </td>

        <td>
          <%= photo.owner %>
        </td>

        <td>
          <%= photo.likes_count %>
        </td>

        <td>
          <%= photo.comments_count %>
        </td>

        <td>
          <%= time_ago_in_words(photo.created_at) %> ago
        </td>
        <td>
          <%= time_ago_in_words(photo.updated_at) %> ago
        </td>

        <td>
          <a href="/photos/<%= photo.id %>">
            Show details
          </a>
        </td>
      </tr>
      <% end %>
    </table>
  </div>
</div>

<hr>
